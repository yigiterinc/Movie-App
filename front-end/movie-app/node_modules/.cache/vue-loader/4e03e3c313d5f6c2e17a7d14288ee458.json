{"remainingRequest":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/src/views/Login.vue","mtime":1586473116874},{"path":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/node_modules/cache-loader/dist/cjs.js","mtime":1586450668050},{"path":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/node_modules/babel-loader/lib/index.js","mtime":1586450667880},{"path":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/node_modules/vuetify-loader/lib/loader.js","mtime":1586450675841},{"path":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/node_modules/cache-loader/dist/cjs.js","mtime":1586450668050},{"path":"/Users/erinc/Documents/RoRProjects/Movie-App/front-end/movie-app/node_modules/vue-loader/lib/index.js","mtime":1586450675693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZXJ2aWNlc01peGluIGZyb20gJy4uL21peGlucy9zZXJ2aWNlcy1taXhpbicKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBtaXhpbnM6IFtTZXJ2aWNlc01peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGRpYWxvZzogdHJ1ZSwKICAgICAgdGFiOiAwLAogICAgICB0YWJzOiBbCiAgICAgICAge25hbWU6IkxvZ2luIiwgaWNvbjoibWRpLWFjY291bnQifSwKICAgICAgICB7bmFtZToiUmVnaXN0ZXIiLCBpY29uOiJtZGktYWNjb3VudC1vdXRsaW5lIn0KICAgICAgXSwKICAgICAgdmFsaWQ6IHRydWUsCgogICAgICBmaXJzdE5hbWU6ICIiLAogICAgICBsYXN0TmFtZTogIiIsCiAgICAgIHZlcmlmeTogIiIsCiAgICAgIGxvZ2luUGFzc3dvcmQ6ICIiLAogICAgICBsb2dpbkVtYWlsOiAiIiwKICAgICAgbG9naW5FbWFpbFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgIlJlcXVpcmVkIiwKICAgICAgICB2ID0+IC8uK0AuK1wuLisvLnRlc3QodikgfHwgIkUtbWFpbCBtdXN0IGJlIHZhbGlkIgogICAgICBdLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgIlJlcXVpcmVkIiwKICAgICAgICB2ID0+IC8uK0AuK1wuLisvLnRlc3QodikgfHwgIkUtbWFpbCBtdXN0IGJlIHZhbGlkIgogICAgICBdLAoKICAgICAgc2hvdzE6IGZhbHNlLAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICJSZXF1aXJlZC4iLAogICAgICAgIG1pbjogdiA9PiAodiAmJiB2Lmxlbmd0aCA+PSA1KSB8fCAiTWluIDUgY2hhcmFjdGVycyIKICAgICAgfQoKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydsb2dpbkFjdGlvbiddKSwKCiAgICByZXNldEZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5lbWFpbCA9ICcnOwogICAgICB0aGlzLnBhc3N3b3JkID0gJyc7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgdXNlckRldGFpbHMgPSB7CiAgICAgICAgZW1haWw6IHRoaXMubG9naW5FbWFpbCwKICAgICAgICBwYXNzd29yZDogdGhpcy5sb2dpblBhc3N3b3JkCiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFzc3dvcmQpCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW5BY3Rpb24nLCB1c2VyRGV0YWlscykudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpCiAgICAgICAgICB0aGlzLiRzd2FsKCdQbGVhc2Ugd2FpdCcsICdZb3UgYXJlIHN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4nLCAnc3VjY2VzcycpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kc3dhbCgnRXJyb3InLCAnUGxlYXNlIGNoZWNrIHlvdXIgY3JlZGVudGlhbHMnLCAnZXJyb3InKQogICAgICAgIHRoaXMucmVzZXRGb3JtKCkKICAgICAgfSkKICAgIH0sCiAgICByZWdpc3RlclVzZXI6IGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmZpcnN0TmFtZSArICcgJyArIHRoaXMubGFzdE5hbWUKICAgICAgICB0aGlzLnJlZ2lzdGVyKG5hbWUsIHRoaXMuZW1haWwsIHRoaXMucGFzc3dvcmQpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kc3dhbCgnU3VjY2VzcycsICdZb3UgYXJlIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbmpveScsICdzdWNjZXNzJykKICAgICAgICAgIHRoaXMudGFiID0gMAogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kc3dhbCgnRXJyb3InLCAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgcmVnaXN0ZXJpbmcgeW91IHBsZWFzZSB0cnkgYWdhaW4nLCAnZXJyb3InKQogICAgICB9KQogICAgfSwKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5sb2dpbigpCiAgICAgIH0KICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgIH0sCiAgICByZXNldFZhbGlkYXRpb246IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHBhc3N3b3JkTWF0Y2goKSB7CiAgICAgIHJldHVybiAoKSA9PiB0aGlzLnBhc3N3b3JkID09PSB0aGlzLnZlcmlmeSB8fCAiUGFzc3dvcmQgbXVzdCBtYXRjaCI7CiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"login\">\n    <v-app id=\"inspire\">\n      <v-dialog v-model=\"dialog\" persistent max-width=\"600px\" min-width=\"360px\">\n        <div>\n          <v-tabs v-model=\"tab\" show-arrows background-color=\"blue darken-2\" icons-and-text dark grow>\n            <v-tabs-slider color=\"blue darken-2\"></v-tabs-slider>\n            <v-tab v-for=\"i in tabs\" :key=\"i.name\">\n              <v-icon large>{{ i.icon }}</v-icon>\n              <div class=\"caption py-1\">{{ i.name }}</div>\n            </v-tab>\n            <v-tab-item>\n              <v-card class=\"px-4\">\n                <v-card-text>\n                  <v-form ref=\"loginForm\" v-model=\"valid\" lazy-validation>\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-text-field v-model=\"loginEmail\" :rules=\"loginEmailRules\" label=\"E-mail\" required></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-text-field v-model=\"loginPassword\" :append-icon=\"show1?'eye':'eye-off'\" :rules=\"[rules.required, rules.min]\" :type=\"show1 ? 'text' : 'password'\" name=\"input-10-1\" label=\"Password\" hint=\"At least 8 characters\" counter @click:append=\"show1 = !show1\"></v-text-field>\n                      </v-col>\n                      <v-col class=\"d-flex\" cols=\"12\" sm=\"6\" xsm=\"12\">\n                      </v-col>\n                      <v-spacer></v-spacer>\n                      <v-col class=\"d-flex\" cols=\"12\" sm=\"3\" xsm=\"12\" align-end>\n                        <v-btn x-large block :disabled=\"!valid\" color=\"primary\" @click=\"validate\"> Login </v-btn>\n                      </v-col>\n                    </v-row>\n                  </v-form>\n                </v-card-text>\n              </v-card>\n            </v-tab-item>\n            <v-tab-item>\n              <v-card class=\"px-4\">\n                <v-card-text>\n                  <v-form ref=\"registerForm\" v-model=\"valid\" lazy-validation>\n                    <v-row>\n                      <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                        <v-text-field v-model=\"firstName\" :rules=\"[rules.required]\" label=\"First Name\" maxlength=\"20\" required></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                        <v-text-field v-model=\"lastName\" :rules=\"[rules.required]\" label=\"Last Name\" maxlength=\"20\" required></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-text-field v-model=\"email\" :rules=\"emailRules\" label=\"E-mail\" required></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-text-field v-model=\"password\" :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\" :rules=\"[rules.required, rules.min]\" :type=\"show1 ? 'text' : 'password'\" name=\"input-10-1\" label=\"Password\" hint=\"At least 8 characters\" counter @click:append=\"show1 = !show1\"></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-text-field block v-model=\"verify\" :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\" :rules=\"[rules.required, passwordMatch]\" :type=\"show1 ? 'text' : 'password'\" name=\"input-10-1\" label=\"Confirm Password\" counter @click:append=\"show1 = !show1\"></v-text-field>\n                      </v-col>\n                      <v-spacer></v-spacer>\n                      <v-col class=\"d-flex ml-auto\" cols=\"12\" sm=\"3\" xsm=\"12\">\n                        <v-btn x-large block :disabled=\"!valid\" color=\"primary\" @click=\"registerUser\">Register</v-btn>\n                      </v-col>\n                    </v-row>\n                  </v-form>\n                </v-card-text>\n              </v-card>\n            </v-tab-item>\n          </v-tabs>\n        </div>\n      </v-dialog>\n    </v-app>\n  </div>\n</template>\n\n<script>\n  import ServicesMixin from '../mixins/services-mixin'\n  import { mapActions } from 'vuex'\n\n  export default {\n    name: 'Login',\n    mixins: [ServicesMixin],\n    data() {\n      return {\n        email: '',\n        password: '',\n        dialog: true,\n        tab: 0,\n        tabs: [\n          {name:\"Login\", icon:\"mdi-account\"},\n          {name:\"Register\", icon:\"mdi-account-outline\"}\n        ],\n        valid: true,\n\n        firstName: \"\",\n        lastName: \"\",\n        verify: \"\",\n        loginPassword: \"\",\n        loginEmail: \"\",\n        loginEmailRules: [\n          v => !!v || \"Required\",\n          v => /.+@.+\\..+/.test(v) || \"E-mail must be valid\"\n        ],\n        emailRules: [\n          v => !!v || \"Required\",\n          v => /.+@.+\\..+/.test(v) || \"E-mail must be valid\"\n        ],\n\n        show1: false,\n        rules: {\n          required: value => !!value || \"Required.\",\n          min: v => (v && v.length >= 5) || \"Min 5 characters\"\n        }\n\n      }\n    },\n    methods: {\n      ...mapActions(['loginAction']),\n\n      resetForm: function () {\n        this.email = '';\n        this.password = '';\n      },\n      login: function () {\n        const userDetails = {\n          email: this.loginEmail,\n          password: this.loginPassword\n        }\n\n        console.log(this.password)\n\n        this.$store.dispatch('loginAction', userDetails).then(() => {\n            this.resetForm()\n            this.$swal('Please wait', 'You are successfully logged in', 'success');\n            this.$router.push('/')\n        }).catch(() => {\n          this.$swal('Error', 'Please check your credentials', 'error')\n          this.resetForm()\n        })\n      },\n      registerUser: function() {\n          const name = this.firstName + ' ' + this.lastName\n          this.register(name, this.email, this.password).then(() => {\n            this.$swal('Success', 'You are successfully registered, enjoy', 'success')\n            this.tab = 0\n        }).catch(() => {\n          this.$swal('Error', 'Something went wrong while registering you please try again', 'error')\n        })\n      },\n      validate: function () {\n        if (this.$refs.loginForm.validate()) {\n          this.login()\n        }\n      },\n      reset: function () {\n        this.$refs.form.reset();\n      },\n      resetValidation: function() {\n        this.$refs.form.resetValidation();\n      }\n    },\n\n    computed: {\n      passwordMatch() {\n        return () => this.password === this.verify || \"Password must match\";\n      }\n    },\n  }\n</script>\n"]}]}